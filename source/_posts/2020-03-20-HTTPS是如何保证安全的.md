---
title: '「笔记」HTTPS 是如何保证安全的'
date: 2020-03-20 20:46:31
tags: [计算机网络,HTTP]
categories: 计算机网络
---

原文：[写一篇最好懂的HTTPS讲解](https://blog.csdn.net/guolin_blog/article/details/104546558)

# 对称加密

- 客户端和服务端使用同一个密钥

- 加解密效率高

# 非对称加密

- 密钥分为公钥和私钥

- 公钥加密只有私钥才能解密

- 私钥加密只有公钥才能解密

- 公钥一般存放在客户端，私钥一般存放在服务端

- 安全性更高

# HTTPS 原理简述

1. 网站管理员向 CA 机构申请证书

    - 证书包含该网站的公钥，域名等其他信息

    - 证书使用 CA 自己的私钥加密

2. 服务端配置证书

3. 客户端发起请求，服务端返回证书

4. 客户端使用 CA 的公钥解密证书

    - 解密成功且域名和其他信息与该网站相符则安全

    - 得到网站公钥

5. 客户端与服务端商定对称加密密钥

    - 过程中客户端使用网站公钥，服务端使用私钥

    - 对称加密密钥由客户端随机生成

6. 双方使用对称加密通信

# 问题

## 为什么 HTTP 不安全

- 明文传输

- 可能被监听

- 可能被篡改

## 如何既保证效率又保证安全

- 保证效率

    - 采用对称加密

- 保证安全

    - 对称加密密钥由客户端随机生成

    - 首次商定密钥使用非对称加密，客户端公钥加密，服务端私钥解密

## 如何保证获的服务端公钥不被篡改

- 由 CA 机构签发证书，证书包含网站公钥和域名等其他信息

- 证书使用 CA 机构私钥加密

- CA 机构数量有限，操作系统可以内置所有 CA 机构公钥

## HTTPS 使用对称加密还是非对称加密？

HTTP 使用两种加密结合的方式

- CA 证书使用非对称加密

- 网站商定密钥使用非对称加密

- 传输内容使用对称加密

## 为什么不直接使用非对称加密通信？

对称加密更高效
